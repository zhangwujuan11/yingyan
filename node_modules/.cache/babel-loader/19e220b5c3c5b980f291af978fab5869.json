{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Ability from '@/components/management/Ability.vue';\nimport Journal from '@/components/management/Journal.vue';\nimport Control from '@/components/management/Control.vue';\nimport Foot from '@/components/Foot.vue';\nimport { addadmin, userinfor, ActivationState } from '@/common/api/adminCenter'; // import {ChatClient} from \"@qians/quake_ws_client-wasm\";\n//插件\n// import BScroll from '@better-scroll/core'\n\nimport { Toast } from 'mint-ui';\nexport default {\n  inject: [\"reload\"],\n  components: {\n    Ability: Ability,\n    Journal: Journal,\n    Control: Control,\n    Foot: Foot\n  },\n  data: function data() {\n    return {\n      isadmin: null,\n      baseform: {\n        \"username\": JSON.parse(localStorage.getItem('urlUserinfor')).username,\n        \"org_id\": Number(JSON.parse(localStorage.getItem('urlUserinfor')).org_id),\n        \"nickname\": \"无念3\",\n        \"role_id\": JSON.parse(localStorage.getItem('urlUserinfor')).role_id,\n        \"avatar\": \"./images/Rectangl24.png\",\n        \"status\": 1\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // this.chat()\n    // 暂时数据\n    this.$router.push({\n      path: '',\n      query: {\n        \"username\": \"k80783\",\n        //用户名\n        \"orgId\": 3,\n        //机构id\n        \"role_id\": \"admin\" //身份\n\n      }\n    }); // 储存路径携带用户信息\n\n    this.$store.commit('USER_IMG', this.$route.query); // 添加用户，admin创建组织\n\n    addadmin(this.baseform).catch(function (err) {\n      console.log(err);\n    }); // 获取用户信息\n\n    userinfor(this.$store.state).then(function (res) {\n      _this.isadmin = res.data.data.ActivationState;\n    });\n  },\n  // mounted() {\n  // \t  this.$nextTick(()=>{\n  // \t\t  new BScroll('.wrapper', {\n  // \t\t\t  movable: true,\n  // \t\t\t  zoom: true,\n  // \t\t\t  probeType:2,\n  // \t\t\t  click:true\n  // \t\t  })\n  // \t  })\n  // },\n  methods: {\n    goMember: function goMember() {\n      var iscontrol = JSON.parse(localStorage.getItem('urlUserinfor'));\n\n      if (this.isadmin == 1) {\n        this.$router.push({\n          name: 'member'\n        });\n      } else {\n        this.$router.push({\n          name: 'nodata'\n        });\n      }\n    },\n    goRole: function goRole() {\n      if (this.isadmin == 1) {\n        this.$router.push({\n          name: 'role'\n        });\n      } else {\n        this.$router.push({\n          name: 'nodata'\n        });\n      }\n    },\n    goPrivileges: function goPrivileges() {\n      if (this.isadmin == 1) {\n        this.$router.push({\n          name: 'privileges'\n        });\n      } else {\n        this.$router.push({\n          name: 'nodata'\n        });\n      }\n    },\n    gohome: function gohome() {\n      this.$router.push({\n        name: 'home'\n      });\n    },\n    goDevice: function goDevice() {\n      this.$router.push({\n        name: 'device'\n      });\n    },\n    // 申请激活状态\n    goapplyBtn: function goapplyBtn() {\n      var _this2 = this;\n\n      this.baseform.activation_state = 2;\n      this.baseform.username = this.$store.state.username;\n      ActivationState(this.baseform).then(function (res) {\n        // console.log(res.data)\n        _this2.isadmin = 2;\n        Toast(\"申请成功\");\n      });\n    },\n    // 等待激活\n    nothing: function nothing() {\n      Toast(\"请耐心等待\");\n    },\n    // 向原生端发送信息\n    gohomePage: function gohomePage() {\n      window.jsBack.postMessage();\n    } // 连接wasm\n    // chat(){\n    // \t// console.log(\"[Views: HomeView.vue]wait for init client\")\n    // \t//FIXME: change k32212 to username(token)\n    // \tconst that = this\n    // \tChatClient.init(\"k32212\", 'levitas.quakeai.tech:31033', 'eye_h5',true)\n    // \tthis.ChatClient = ChatClient\n    // \tsetTimeout(function(){\n    // \t\tconsole.log(\"[Views: HomeView.vue]chat client has been inited: \", that.ChatClient.get_group_chridren())\n    // \t},5000)\n    // },\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA,gF,CACA;AACA;AACA;;AACA;AACA;EACAA,kBADA;EAEAC;IACAC,gBADA;IAEAC,gBAFA;IAGAC,gBAHA;IAIAC;EAJA,CAFA;EAQAC,IARA,kBAQA;IACA;MACAC,aADA;MAEAC;QACA,qEADA;QAEA,yEAFA;QAGA,iBAHA;QAIA,mEAJA;QAKA,mCALA;QAMA;MANA;IAFA;EAWA,CApBA;EAsBAC,OAtBA,qBAsBA;IAAA;;IACA;IACA;IACA;MACAC,QADA;MAEAC;QACA,oBADA;QACA;QACA,UAFA;QAEA;QACA,kBAHA,CAGA;;MAHA;IAFA,GAHA,CAcA;;IACA,kDAfA,CAgBA;;IACAC;MACAC;IACA,CAFA,EAjBA,CAqBA;;IACAC;MACA;IACA,CAFA;EAGA,CA/CA;EAgDA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACAC;IACAC,QADA,sBACA;MACA;;MACA;QACA;UACAC;QADA;MAGA,CAJA,MAIA;QACA;UACAA;QADA;MAGA;IACA,CAZA;IAaAC,MAbA,oBAaA;MACA;QACA;UACAD;QADA;MAGA,CAJA,MAIA;QACA;UACAA;QADA;MAGA;IAEA,CAxBA;IAyBAE,YAzBA,0BAyBA;MACA;QACA;UACAF;QADA;MAGA,CAJA,MAIA;QACA;UACAA;QADA;MAGA;IAEA,CApCA;IAqCAG,MArCA,oBAqCA;MACA;QACAH;MADA;IAGA,CAzCA;IA0CAI,QA1CA,sBA0CA;MACA;QACAJ;MADA;IAGA,CA9CA;IAgDA;IACAK,UAjDA,wBAiDA;MAAA;;MACA;MACA;MACAC;QACA;QACA;QACAC;MAEA,CALA;IAMA,CA1DA;IA2DA;IACAC,OA5DA,qBA4DA;MACAD;IACA,CA9DA;IA+DA;IACAE,UAhEA,wBAgEA;MACAC;IACA,CAlEA,CAmEA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EA7EA;AA3DA","names":["inject","components","Ability","Journal","Control","Foot","data","isadmin","baseform","created","path","query","addadmin","console","userinfor","methods","goMember","name","goRole","goPrivileges","gohome","goDevice","goapplyBtn","ActivationState","Toast","nothing","gohomePage","window"],"sourceRoot":"src/views/administer","sources":["Index.vue"],"sourcesContent":["<template>\r\n\t<div class=\"administr\">\r\n\t\t<div class=\"Administrtab\">\r\n\t\t\t<div @click=\"gohomePage\">\r\n\t\t\t\t<img src=\"@/assets/images/back.png\" alt=\"\">\r\n\t\t\t\t<slot>\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<slot>鹰眼</slot>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</slot>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\r\n\t\t<section>\r\n\t\t\t<div>\r\n\t\t\t<div class=\"admintop\">\r\n\t\t\t\t<div class=\"adtopcon\">\r\n\t\t\t\t\t<div class=\"logotip\">\r\n\t\t\t\t\t\t<img src=\"@/assets/images/Group97.png\" alt=\"\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span>鹰眼</span>\r\n\t\t\t\t\t\t\t<br>\r\n\t\t\t\t\t\t\t为各商户提供全方位的异常视频监管\r\n\t\t\t\t\t\t\t、设备配置等服务。\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"injion\">\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<img src=\"@/assets/images/smile.png\" alt=\"\">\r\n\t\t\t\t\t\t\t<span>使用小助手</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<button v-if=\"isadmin==1\"  @click='gohome'>进入应用</button>\r\n\t\t\t\t\t\t<button v-if=\"isadmin==0\" @click=\"goapplyBtn\">申请进入</button>\r\n\t\t\t\t\t\t<button v-if=\"isadmin==2\" @click=\"nothing\" class=\"bgapply\">等待激活</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"roles\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h3>组织架构</h3>\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li @click=\"goMember\">成员管理<span>Member management</span></li>\r\n\t\t\t\t\t\t<li @click=\"goDevice\">设备管理 <span>Device management</span></li>\r\n\t\t\t\t\t\t<!-- <li @click=\"goRole\">角色管理 <span>Role management</span></li> -->\r\n\t\t\t\t\t\t<!-- <li @click=\"goPrivileges\">管理员权限<span>Administrator privileges</span></li> -->\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<!-- 日志管理 -->\r\n\t\t\t<Journal></Journal>\r\n\t\t\t\r\n\t\t\t<div class=\"configure\">\r\n\t\t\t\t<div class=\"configCon\">\r\n\t\t\t\t\t<h3>设备管理</h3>\r\n\t\t\t\t\t<div  @click=\"goDevice\">开始管理</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class=\"configure\">\r\n\t\t\t\t<div class=\"configCon\">\r\n\t\t\t\t\t<h3>进场配置</h3>\r\n\t\t\t\t\t<div>开始配置</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<!-- <Ability></Ability> -->\r\n\t\t\t<Control></Control>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t\t<Foot></Foot>\r\n\t</div>\n</template>\n\n<script>\r\n\timport Ability from '@/components/management/Ability.vue'\r\n\timport Journal from '@/components/management/Journal.vue'\r\n\timport Control from '@/components/management/Control.vue'\r\n\timport Foot from '@/components/Foot.vue'\r\n\timport { addadmin,userinfor,ActivationState } from '@/common/api/adminCenter'\r\n\t// import {ChatClient} from \"@qians/quake_ws_client-wasm\";\r\n\t//插件\r\n\t// import BScroll from '@better-scroll/core'\r\n\timport { Toast } from 'mint-ui'\r\n\texport default{\r\n\t\tinject:[\"reload\"],\r\n\t\tcomponents:{\r\n\t\t\tAbility,\r\n\t\t\tJournal,\r\n\t\t\tControl,\r\n\t\t\tFoot\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn{\r\n\t\t\t\tisadmin:null,\r\n\t\t\t\tbaseform:{\r\n\t\t\t\t\t\t\"username\":JSON.parse(localStorage.getItem('urlUserinfor')).username ,\r\n\t\t\t\t\t\t\"org_id\": Number(JSON.parse(localStorage.getItem('urlUserinfor')).org_id) ,\r\n\t\t\t\t\t\t\"nickname\": \"无念3\",\r\n\t\t\t\t\t\t\"role_id\":JSON.parse(localStorage.getItem('urlUserinfor')).role_id,\r\n\t\t\t\t\t\t\"avatar\": \"./images/Rectangl24.png\",\r\n\t\t\t\t\t\t\"status\": 1,\r\n\t\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tcreated() {\r\n\t\t\t// this.chat()\r\n\t\t\t// 暂时数据\r\n\t\t\tthis.$router.push({\r\n\t\t\t\tpath:'',\r\n\t\t\t\tquery:{\n\t\t\t\t\t\t\"username\": \"k80783\",//用户名\n\t\t\t\t\t\t\"orgId\": 3,//机构id\n\t\t\t\t\t\t\"role_id\": \"admin\",//身份\n\t\t\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 储存路径携带用户信息\r\n\t\t\tthis.$store.commit('USER_IMG', this.$route.query)\r\n\t\t\t// 添加用户，admin创建组织\r\n\t\t\taddadmin(this.baseform).catch(err=>{\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t})\r\n\t\t\t\r\n\t\t\t// 获取用户信息\r\n\t\t\tuserinfor(this.$store.state).then(res=>{\r\n\t\t\t\tthis.isadmin=res.data.data.ActivationState\r\n\t\t\t})\r\n\t\t},\r\n\t\t// mounted() {\r\n\t\t// \t  this.$nextTick(()=>{\r\n\t\t// \t\t  new BScroll('.wrapper', {\r\n\t\t// \t\t\t  movable: true,\r\n\t\t// \t\t\t  zoom: true,\r\n\t\t// \t\t\t  probeType:2,\r\n\t\t// \t\t\t  click:true\r\n\t\t// \t\t  })\r\n\t\t\t\t  \r\n\t\t// \t  })\r\n\t\t// },\r\n\t\tmethods:{\r\n\t\t\tgoMember(){\r\n\t\t\t\tlet iscontrol=JSON.parse(localStorage.getItem('urlUserinfor')) \r\n\t\t\t\tif(this.isadmin==1){\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname:'member',\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname:'nodata'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoRole(){\r\n\t\t\t\tif(this.isadmin==1){\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname:'role'\r\n\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname:'nodata'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgoPrivileges(){\r\n\t\t\t\tif(this.isadmin==1){\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname:'privileges'\r\n\t\t\t\t\t})\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname:'nodata'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgohome(){\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname:'home'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoDevice(){\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname:'device'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\r\n\t\t\t// 申请激活状态\r\n\t\t\tgoapplyBtn(){\r\n\t\t\t\tthis.baseform.activation_state=2\r\n\t\t\t\tthis.baseform.username=this.$store.state.username\r\n\t\t\t\tActivationState(this.baseform).then(res=>{\r\n\t\t\t\t\t// console.log(res.data)\r\n\t\t\t\t\tthis.isadmin=2\r\n\t\t\t\t\tToast(\"申请成功\")\r\n\t\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 等待激活\r\n\t\t\tnothing(){\r\n\t\t\t\tToast(\"请耐心等待\")\r\n\t\t\t},\r\n\t\t\t// 向原生端发送信息\r\n\t\t   gohomePage(){\r\n\t\t\t   window.jsBack.postMessage();\r\n\t\t   }\r\n\t\t\t// 连接wasm\r\n\t\t\t// chat(){\r\n\t\t\t// \t// console.log(\"[Views: HomeView.vue]wait for init client\")\r\n\t\t\t// \t//FIXME: change k32212 to username(token)\r\n\t\t\t// \tconst that = this\r\n\t\t\t// \tChatClient.init(\"k32212\", 'levitas.quakeai.tech:31033', 'eye_h5',true)\r\n\t\t\t// \tthis.ChatClient = ChatClient\r\n\t\t\t// \tsetTimeout(function(){\r\n\t\t\t// \t\tconsole.log(\"[Views: HomeView.vue]chat client has been inited: \", that.ChatClient.get_group_chridren())\r\n\t\t\t// \t},5000)\r\n\t\t\t// },\r\n\t\t\t\r\n\t\t},\r\n\t}\n</script>\n\n<style scoped>\r\n\t.administr{\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\twidth: 100vw;\r\n\t\t\theight: 100vh;\r\n\t\t\toverflow: scroll;\r\n\t\t}\r\n\tsection{\r\n\t\tflex: 1;\r\n\t\toverflow: scroll;\r\n\t\t\r\n\t}\r\n\tsection::-webkit-scrollbar {\r\n\t\r\n\t  display: none;\r\n\t\r\n\t}\r\n\t.admintop{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t.admintop .adtopcon{\r\n\t\twidth: 8.88rem;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t.admintop .logotip{\r\n\t\twidth: 72%;\r\n\t\theight: 1.6rem;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tfont-size: 0.32rem;\r\n\t\tcolor: #1E1E1E;\r\n\t\tmargin-top: 0.533333rem;\r\n\t\talign-items: center;\r\n\t\tline-height: 0.5rem;\r\n\t}\r\n\t.admintop .logotip span{\r\n\t\tfont-size: 14px;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t.admintop .logotip img{\r\n\t\tmargin-right: 0.266667rem;\r\n\t}\r\n\t.injion{\r\n\t\twidth:28%;\r\n\t\theight: 1.6rem;\r\n\t\tfont-size: 0.32rem;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tmargin-top: 0.533333rem;\r\n\t}\r\n\t.injion p{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 0.48rem;\r\n\t\tcolor: #1D76DE;\r\n\t}\r\n\t.injion button{\r\n\t\tcolor: white;\r\n\t\tbackground-color: #1D76DE;\r\n\t\twidth: 1.76rem;\r\n\t\theight: 0.64rem;\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\tborder-radius: 0.133333rem;\r\n\t}\r\n\t.roles{\r\n\t\twidth: 100%;\r\n\t\tfont-size: 0.373333rem;\r\n\t\tcolor: white;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t.roles div{\r\n\t\twidth: 8.88rem;\r\n\t\tmargin-top: 0.933333rem;\r\n\t}\r\n\t\r\n\t.roles h3{\r\n\t\tfont-size: 0.373333rem;\r\n\t\tcolor: #1E1E1E;\r\n\t\twidth: 8.88rem;\r\n\t}\r\n\t.roles ul li{\r\n\t\twidth: 100%;\r\n\t\theight: 2rem;\r\n\t\tborder-radius: 0.266667rem;\r\n\t\tbackground: linear-gradient(180deg, #24C6DC 0%, #514A9D 100%);\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tflex-direction: column;\r\n\t\tmargin-top: 0.266667rem;\r\n\t}\r\n\t.roles ul li:nth-child(2){\r\n\t\tbackground: linear-gradient(180deg, #EC6F66 0%, #F3A183 100%);\r\n\t}\r\n\t.roles ul li:last-child{\r\n\t\tbackground: linear-gradient(180deg, #283048 0%, #8CA6DB 100%);\r\n\t}\r\n\t.configure{\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n\t.configure .configCon{\r\n\t\twidth: 8.88rem;\r\n\t}\r\n\t.configure .configCon h3{\r\n\t\tfont-size: 0.373333rem;\r\n\t\tcolor: #1E1E1E;\r\n\t\tmargin:8px 0;\r\n\t}\r\n\t.configure .configCon div{\r\n\t\twidth: 100%;\r\n\t\theight: 1.333333rem;\r\n\t\tline-height: 1.333333rem;\r\n\t\tborder-radius: 0.266667rem;\r\n\t\tbackground: white;\r\n\t\tfont-size: 0.373333rem;\r\n\t\tcolor: #1D76DE;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.injion .bgapply{\r\n\t\tbackground-color:darkorange\r\n\t}\r\n\t.Administrtab {\r\n\t\twidth: 100%;\r\n\t\tpadding-top: 0.533333rem;\r\n\t\theight: 0.8rem;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.Administrtab div{\r\n\t\twidth: 8.88rem;\r\n\t\tfont-size: 0.426667rem;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\t.Administrtab div span{\r\n\t\tmargin-left: 0.213333rem;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t\n</style>"]},"metadata":{},"sourceType":"module"}