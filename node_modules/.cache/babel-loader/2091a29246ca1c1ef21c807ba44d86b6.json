{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Administrtab from '@/components/Administrtab.vue';\nimport Foot from '@/components/Foot.vue';\nimport Serch from '@/components/management/Serch.vue';\nimport Popupp from '@/components/Popupp.vue';\nimport { listEd, adminList, ActivationState, identity } from '@/common/api/adminCenter';\nimport { Toast } from 'mint-ui';\nexport default {\n  inject: [\"reload\"],\n  filters: {\n    RoleName(e) {\n      if (e == 'admin') {\n        return '超级管理员';\n      } else if (e == 'manage') {\n        return '管理员';\n      } else {\n        return '成员';\n      }\n    }\n\n  },\n\n  data() {\n    return {\n      popupVisible: false,\n      ahgg: [],\n      //已激活列表\n      applylist: [],\n      //申请激活列表\n      datalist: 1,\n      apptips: '成员列表',\n      ible: false,\n      sheetVisible: 'normal',\n      //身份的蒙尘\n      actions: [],\n      sendadform: {}\n    };\n  },\n\n  components: {\n    Administrtab,\n    Foot,\n    Serch,\n    Popupp\n  },\n  methods: {\n    addmember() {\n      this.popupVisible = true;\n    },\n\n    // 关闭邀请表单\n    changVisible() {\n      this.popupVisible = false;\n    },\n\n    //不通过申请\n    fail(n) {\n      let data = {\n        \"username\": n.Username,\n        \"org_id\": n.OrgId,\n        \"nickname\": n.Nickname,\n        \"role_id\": n.RoleIid,\n        \"avatar\": n.Avatar,\n        \"status\": n.Status,\n        \"activation_state\": 0\n      };\n      ActivationState(data).then(res => {\n        Toast('操作成功');\n        this.reload();\n      });\n    },\n\n    // 通过申请\n    pass(n) {\n      this.sendadform = {\n        \"username\": n.Username,\n        \"org_id\": n.OrgId,\n        \"nickname\": n.Nickname,\n        \"avatar\": n.Avatar,\n        \"status\": n.Status,\n        \"activation_state\": 1\n      };\n      this.ible = true;\n    },\n\n    passs() {\n      this.sendadform.role_id = this.sheetVisible;\n      ActivationState(this.sendadform).then(res => {\n        this.ible = false;\n        Toast('操作成功');\n        this.reload();\n      });\n    },\n\n    // 删除成员\n    delpoeple(n) {\n      this.sendadform = {\n        \"username\": n.Username,\n        \"org_id\": n.OrgId,\n        \"nickname\": n.Nickname,\n        'role_id': n.RoleId,\n        \"avatar\": n.Avatar,\n        \"status\": n.Status,\n        \"activation_state\": 0\n      }; // console.log(this.sendadform)\n\n      ActivationState(this.sendadform).then(res => {\n        Toast('操作成功');\n        this.reload();\n      });\n    }\n\n  },\n\n  created() {\n    const that = this; //已激活用户列表 \n\n    listEd(JSON.parse(localStorage.getItem('urlUserinfor'))).then(res => {\n      // this.ahgg = res.data.data\n      this.ahgg = [];\n      res.data.data.forEach(item => {\n        that.ahgg.push({\n          ActivationState: item.ActivationState,\n          Avatar: item.Avatar,\n          CreateAt: item.CreateAt,\n          ID: item.ID,\n          Nickname: item.Nickname,\n          OrgId: item.OrgId,\n          role: item.RoleId,\n          Status: item.Status,\n          UpdateAt: item.UpdateAt,\n          Username: item.Username\n        });\n      }); // console.warn(that.ahgg)\n    }); // 申请激活列表\n\n    adminList(JSON.parse(localStorage.getItem('urlUserinfor'))).then(res => {\n      this.applylist = res.data.data; // console.log(this.applylist)\n    }); //获取身份标识\n\n    identity().then(res => {\n      this.actions = res.data.data;\n    });\n  } // mounted(){\n  // \tthis.$nextTick(()=>{\n  // \t\tconsole.log(this.applylist.length)\n  // \t})\n  // }\n\n\n};","map":null,"metadata":{},"sourceType":"module"}