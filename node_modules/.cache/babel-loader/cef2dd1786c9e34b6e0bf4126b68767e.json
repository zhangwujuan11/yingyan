{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Ability from '@/components/management/Ability.vue';\nimport Journal from '@/components/management/Journal.vue';\nimport Control from '@/components/management/Control.vue';\nimport Foot from '@/components/Foot.vue';\nimport { addadmin, userinfor, ActivationState } from '@/common/api/adminCenter'; // import {ChatClient} from \"@qians/quake_ws_client-wasm\";\n//插件\n// import BScroll from '@better-scroll/core'\n\nimport { Toast } from 'mint-ui';\nexport default {\n  inject: [\"reload\"],\n  components: {\n    Ability: Ability,\n    Journal: Journal,\n    Control: Control,\n    Foot: Foot\n  },\n  data: function data() {\n    return {\n      isadmin: null,\n      baseform: {\n        \"username\": JSON.parse(localStorage.getItem('urlUserinfor')).username,\n        \"org_id\": Number(JSON.parse(localStorage.getItem('urlUserinfor')).org_id),\n        \"nickname\": \"无念3\",\n        \"role_id\": JSON.parse(localStorage.getItem('urlUserinfor')).role_id,\n        \"avatar\": \"./images/Rectangl24.png\",\n        \"status\": 1\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    // this.chat()\n    // 暂时数据\n    this.$router.push({\n      path: '',\n      query: {\n        \"username\": \"k80787\",\n        \"org_id\": 3,\n        \"role_id\": \"normal\"\n      }\n    }); // 储存路径携带用户信息\n\n    this.$store.commit('USER_IMG', this.$route.query); // 添加用户，admin创建组织\n\n    addadmin(this.baseform).catch(function (err) {\n      console.log(err);\n    }); // 获取用户信息\n\n    userinfor(this.$store.state).then(function (res) {\n      _this.isadmin = res.data.data.ActivationState;\n    });\n  },\n  // mounted() {\n  // \t  this.$nextTick(()=>{\n  // \t\t  new BScroll('.wrapper', {\n  // \t\t\t  movable: true,\n  // \t\t\t  zoom: true,\n  // \t\t\t  probeType:2,\n  // \t\t\t  click:true\n  // \t\t  })\n  // \t  })\n  // },\n  methods: {\n    goMember: function goMember() {\n      var iscontrol = JSON.parse(localStorage.getItem('urlUserinfor'));\n\n      if (this.isadmin == 1) {\n        this.$router.push({\n          name: 'member'\n        });\n      } else {\n        this.$router.push({\n          name: 'nodata'\n        });\n      }\n    },\n    goRole: function goRole() {\n      if (this.isadmin == 1) {\n        this.$router.push({\n          name: 'role'\n        });\n      } else {\n        this.$router.push({\n          name: 'nodata'\n        });\n      }\n    },\n    goPrivileges: function goPrivileges() {\n      if (this.isadmin == 1) {\n        this.$router.push({\n          name: 'privileges'\n        });\n      } else {\n        this.$router.push({\n          name: 'nodata'\n        });\n      }\n    },\n    gohome: function gohome() {\n      this.$router.push({\n        name: 'home'\n      });\n    },\n    // 申请激活状态\n    goapplyBtn: function goapplyBtn() {\n      var _this2 = this;\n\n      this.baseform.activation_state = 2;\n      this.baseform.username = this.$store.state.username;\n      ActivationState(this.baseform).then(function (res) {\n        // console.log(res.data)\n        _this2.isadmin = 2;\n        Toast(\"申请成功\");\n      });\n    },\n    // 等待激活\n    nothing: function nothing() {\n      Toast(\"请耐心等待\");\n    },\n    // 向原生端发送信息\n    sendNativeMessage: function sendNativeMessage(name) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n      if (this.$RUNTIME_ENV == 'ios') {\n        window.webkit.messageHandlers[name].postMessage(params);\n        return;\n      }\n\n      if (this.$RUNTIME_ENV == 'android') {\n        if (name == 'jsLog') {\n          jsLog.postMessage(params);\n        }\n\n        if (name == 'hideTabbar') {\n          hideTabbar.postMessage(params);\n        }\n\n        if (name == 'jsBack') {\n          jsBack.postMessage(params);\n        }\n\n        return;\n      }\n    },\n    gohomePage: function gohomePage() {\n      this.sendNativeMessage(\"jsBack\", '返回');\n      console.log(\"123\");\n    } // 连接wasm\n    // chat(){\n    // \t// console.log(\"[Views: HomeView.vue]wait for init client\")\n    // \t//FIXME: change k32212 to username(token)\n    // \tconst that = this\n    // \tChatClient.init(\"k32212\", 'levitas.quakeai.tech:31033', 'eye_h5',true)\n    // \tthis.ChatClient = ChatClient\n    // \tsetTimeout(function(){\n    // \t\tconsole.log(\"[Views: HomeView.vue]chat client has been inited: \", that.ChatClient.get_group_chridren())\n    // \t},5000)\n    // },\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}