{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport http from '@/common/api/request.js'; //插件\n\nimport BetterScroll from '@better-scroll/core';\nexport default {\n  props: ['Exception'],\n  data: function data() {\n    return {\n      selected: '1',\n      ExceptionList: [],\n      aftertodyList: []\n    };\n  },\n  methods: {\n    gounnormal: function gounnormal(item) {\n      var url1 = item.Videos[0].VideoUrl;\n      var url2 = item.Videos[1].VideoUrl;\n      var remark = item.Remark;\n      var jobName = item.JobName;\n      var createAt = item.CreateAt;\n      var createBy = item.CreateBy;\n      this.$router.push({\n        path: \"/unnormal\",\n        query: {\n          'url1': url1,\n          'url2': url2,\n          'remark': remark,\n          'jobName': jobName,\n          'createAt': createAt,\n          'createBy': createBy\n        }\n      });\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    // 今天获取工控服务列表\n    http.$axios({\n      url: 'job/getJobs',\n      method: 'GET',\n      params: {\n        \"org_id\": this.$store.state.userorgid,\n        \"type\": 1\n      }\n    }).then(function (res) {\n      _this.ExceptionList = res.data.data;\n    }).catch(function () {\n      _this.ExceptionList = [];\n    }), // 昨天获取工控服务列表\n    http.$axios({\n      url: 'job/getJobs',\n      method: 'GET',\n      params: {\n        \"org_id\": this.$store.state.userorgid,\n        \"type\": 2\n      }\n    }).then(function (res) {\n      _this.aftertodyList = res.data.data;\n    }).catch(function () {\n      _this.aftertodyList = [];\n    });\n  },\n  watch: {\n    ExceptionList: function ExceptionList() {\n      this.$nextTick(function () {\n        new BetterScroll('.wrapper', {\n          movable: true,\n          zoom: true,\n          probeType: 2,\n          click: true\n        });\n      });\n    },\n    aftertodyList: function aftertodyList(n, o) {\n      this.$nextTick(function () {\n        new BetterScroll('.wrapper2', {\n          movable: true,\n          zoom: true,\n          probeType: 2,\n          click: true\n        });\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA,2C,CACA;;AACA;AACA;EACAA,oBADA;EAEAC,IAFA,kBAEA;IACA;MACAC,aADA;MAEAC,iBAFA;MAGAC;IAHA;EAKA,CARA;EASAC;IACAC,UADA,sBACAC,IADA,EACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;QACAC,iBADA;QAEAC;UACA,YADA;UAEA,YAFA;UAGA,gBAHA;UAIA,kBAJA;UAKA,oBALA;UAMA;QANA;MAFA;IAWA;EApBA,CATA;EA+BAC,OA/BA,qBA+BA;IAAA;;IACA;IACAC;MACAC,kBADA;MAEAC,aAFA;MAGAC;QACA,qCADA;QAEA;MAFA;IAHA,GAOAC,IAPA,CAOA;MACA;IACA,CATA,EASAC,KATA,CASA;MACA;IACA,CAXA,GAYA;IACAL;MACAC,kBADA;MAEAC,aAFA;MAGAC;QACA,qCADA;QAEA;MAFA;IAHA,GAOAC,IAPA,CAOA;MACA;IAEA,CAVA,EAUAC,KAVA,CAUA;MACA;IACA,CAZA,CAbA;EA2BA,CA5DA;EA6DAC;IACAd,aADA,2BACA;MACA;QACA;UACAe,aADA;UAEAC,UAFA;UAGAC,YAHA;UAIAC;QAJA;MAMA,CAPA;IAQA,CAVA;IAWAjB,aAXA,yBAWAkB,CAXA,EAWAC,CAXA,EAWA;MACA;QACA;UACAL,aADA;UAEAC,UAFA;UAGAC,YAHA;UAIAC;QAJA;MAMA,CAPA;IAQA;EApBA;AA7DA","names":["props","data","selected","ExceptionList","aftertodyList","methods","gounnormal","item","path","query","created","http","url","method","params","then","catch","watch","movable","zoom","probeType","click","n","o"],"sourceRoot":"src/components/home","sources":["Abnormal.vue"],"sourcesContent":["<template>\r\n\t<div class=\"abnormal clearfix\" ref=\"abnormal\">\r\n\t\t<mt-navbar v-model=\"selected\">\r\n\t\t\t<mt-tab-item id=\"1\">今天</mt-tab-item>\r\n\t\t\t<mt-tab-item id=\"2\">昨天</mt-tab-item>\r\n\t\t\t<mt-tab-item id=\"3\">更早</mt-tab-item>\r\n\t\t</mt-navbar>\r\n\r\n\t\t<mt-tab-container v-model=\"selected\">\r\n\t\t\t<mt-tab-container-item id=\"1\">\r\n\t\t\t\t<div class=\"wrapper\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<ul v-if=\"ExceptionList.length!=0\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t<li v-for=\"(item,index) in ExceptionList\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<p class=\"createAt\">{{item.CreateAt}}</p>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"showimg\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"cashier\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"showt\" src=\"@/assets/images/Cashier2.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"showi\" :src=\"item.Videos[0].VideoCoverUrl\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p class=\"borde\"></p>\r\n\t\t\t\t\t\t\t\t\t<div class=\"monitor\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"showt\" src=\"@/assets/images/monitor2.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"showi\" :src=\"item.Videos[1].VideoCoverUrl\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"showinfo\">\r\n\t\t\t\t\t\t\t\t\t<p>{{item.DeviceNameMonitor}},{{item.DeviceNamePos}}设备出现异常操作，请尽快查阅处理。</p>\r\n\t\t\t\t\t\t\t\t\t<button @click=\"gounnormal(item)\">查看</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</mt-tab-container-item>\r\n\t\t\t<mt-tab-container-item id=\"2\">\r\n\t\t\t\t<div class=\"wrapper2\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<ul v-if=\"aftertodyList.length!=0\" class=\"clearfix\">\r\n\t\t\t\t\t\t\t<li v-for=\"(item,index) in aftertodyList\" :key=\"index\">\r\n\t\t\t\t\t\t\t\t<p class=\"createAt\">{{item.CreateAt}}</p>\r\n\r\n\t\t\t\t\t\t\t\t<div class=\"showimg\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"cashier\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"showt\" src=\"@/assets/images/Cashier2.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"showi\" :src=\"item.Videos[0].VideoCoverUrl\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p class=\"borde\"></p>\r\n\t\t\t\t\t\t\t\t\t<div class=\"monitor\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"showt\" src=\"@/assets/images/monitor2.png\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t\t<img class=\"showi\" :src=\"item.Videos[1].VideoCoverUrl\" alt=\"\">\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class=\"showinfo\">\r\n\t\t\t\t\t\t\t\t\t<p>{{item.DeviceNameMonitor}},{{item.DeviceNamePos}}设备出现异常操作，请尽快查阅处理。</p>\r\n\t\t\t\t\t\t\t\t\t<button @click=\"gounnormal(item)\">查看</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</mt-tab-container-item>\r\n\t\t\t<mt-tab-container-item id=\"3\">\r\n\t\t\t\t<div>33333</div>\r\n\t\t\t</mt-tab-container-item>\r\n\t\t</mt-tab-container>\r\n\r\n\r\n\r\n\t\t<!-- 没有数据时 -->\r\n\t\t<!-- <div class=\"nodata\" v-if=\"ExceptionList.length==0\">\r\n\t\t\t<img src=\"@/assets/images/nodata.png\" alt=\"\">\r\n\t\t</div> -->\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport http from '@/common/api/request.js'\r\n\t//插件\r\n\timport BetterScroll from '@better-scroll/core'\r\n\texport default {\r\n\t\tprops: ['Exception'],\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tselected: '1',\r\n\t\t\t\tExceptionList: [],\r\n\t\t\t\taftertodyList: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgounnormal(item) {\r\n\t\t\t\tlet url1 = item.Videos[0].VideoUrl\r\n\t\t\t\tlet url2 = item.Videos[1].VideoUrl\r\n\t\t\t\tlet remark = item.Remark\r\n\t\t\t\tlet jobName = item.JobName\r\n\t\t\t\tlet createAt = item.CreateAt\r\n\t\t\t\tlet createBy = item.CreateBy\r\n\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: \"/unnormal\",\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t'url1': url1,\r\n\t\t\t\t\t\t'url2': url2,\r\n\t\t\t\t\t\t'remark': remark,\r\n\t\t\t\t\t\t'jobName': jobName,\r\n\t\t\t\t\t\t'createAt': createAt,\r\n\t\t\t\t\t\t'createBy': createBy\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 今天获取工控服务列表\r\n\t\t\thttp.$axios({\r\n\t\t\t\t\turl: 'job/getJobs',\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\"org_id\": this.$store.state.userorgid,\r\n\t\t\t\t\t\t\"type\": 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.ExceptionList = res.data.data\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.ExceptionList = []\r\n\t\t\t\t}),\r\n\t\t\t\t// 昨天获取工控服务列表\r\n\t\t\t\thttp.$axios({\r\n\t\t\t\t\turl: 'job/getJobs',\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t\"org_id\": this.$store.state.userorgid,\r\n\t\t\t\t\t\t\"type\": 2\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.aftertodyList = res.data.data\r\n\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.aftertodyList = []\r\n\t\t\t\t})\r\n\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tExceptionList() {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tnew BetterScroll('.wrapper', {\r\n\t\t\t\t\t movable: true,\r\n\t\t\t\t\t\tzoom: true,\r\n\t\t\t\t\t\tprobeType: 2,\r\n\t\t\t\t\t\tclick: true\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\taftertodyList(n, o) {\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tnew BetterScroll('.wrapper2', {\r\n\t\t\t\t\t\tmovable: true,\r\n\t\t\t\t\t\tzoom: true,\r\n\t\t\t\t\t\tprobeType: 2,\r\n\t\t\t\t\t\tclick: true\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.abnormal {\r\n\t\twidth: 100%;\r\n\t\tposition: relative;\r\n\r\n\t}\r\n\r\n\t.abnormal ul {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tflex-direction: column;\r\n\t\tmargin-top: 0.4rem;\r\n\t}\r\n\r\n\t.abnormal ul li {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\twidth: 8.88rem;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 0.266667rem;\r\n\t\tpadding: 0.24rem;\r\n\t\tmargin-bottom: 0.32rem;\r\n\t}\r\n\r\n\t.abnormal ul li .showimg {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\r\n\t}\r\n\r\n\t.abnormal .showimg .showi {\r\n\t\twidth: 4rem;\r\n\t\theight: 2.666667rem;\r\n\t\tborder: 1px solid #C4C4C44D;\r\n\t}\r\n\r\n\t.cashier,\r\n\t.monitor {\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.showt {\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop: 0.053333rem;\r\n\t}\r\n\r\n\t.borde {\r\n\t\twidth: 0;\r\n\t\tborder: 1px solid #C4C4C44D;\r\n\t\tmargin: 0 0.266667rem;\r\n\t\theight: 2.133333rem;\r\n\t}\r\n\r\n\t.showinfo {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin: top 12px;\r\n\t\t;\r\n\t}\r\n\r\n\t.showinfo p {\r\n\t\tcolor: #515151;\r\n\t\tfont-size: 14px;\r\n\t\twidth: 5.6rem;\r\n\t}\r\n\r\n\t.showinfo button {\r\n\t\twidth: 1.866667rem;\r\n\t\theight: 0.8rem;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #3778DA;\r\n\t\tborder-radius: 0.133333rem;\r\n\t\toutline: none;\r\n\t\tborder: none;\r\n\t}\r\n\r\n\t.godown {\r\n\t\tz-index: -1;\r\n\t}\r\n\r\n\t.nodata {\r\n\t\ttext-align: center;\r\n\t\tmargin-top: 0.8rem;\r\n\t}\r\n\r\n\t.createAt {\r\n\t\twidth: 100%;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #515151;\r\n\t\ttext-align: left;\r\n\t\tmargin-bottom: 0.266667rem;\r\n\t}\r\n\r\n\t.mint-tab-container-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\twidth: 100vw;\r\n\t\theight: 50vh;\r\n\t\tmargin-top: 0.4rem;\r\n\t}\r\n\r\n\t.wrapper{\r\n\t\tflex: 1;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t.wrapper2{\r\n\t\toverflow-y: scroll;\r\n\t} \r\n</style>\n"]},"metadata":{},"sourceType":"module"}