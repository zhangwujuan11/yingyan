{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  provide: function provide() {\n    //刷新\n    return {\n      reload: this.reload\n    };\n  },\n  data: function data() {\n    return {\n      isRouterAlive: true,\n      mainheiget: [{\n        'hh': '0px'\n      }]\n    };\n  },\n  created: function created() {\n    var vm = this;\n\n    if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {\n      var _window$getSafeAreaHe, _window$getSafeAreaHe2;\n\n      window.getSafeAreaHeight.onmessage = function (res) {\n        if (res != undefined) {\n          vm.$set(vm.mainheiget[0], 'hh', JSON.parse(res.data).statusBarHeight + 'px');\n          localStorage.setItem('phonetopheight', JSON.parse(res.data).statusBarHeight + 'px');\n        }\n      }; // @ts-ignore\n\n\n      window.getSafeAreaHeight.postMessage(); // @ts-ignore\n\n      (_window$getSafeAreaHe = (_window$getSafeAreaHe2 = window.getSafeAreaHeight).onmessage) === null || _window$getSafeAreaHe === void 0 ? void 0 : _window$getSafeAreaHe.call(_window$getSafeAreaHe2);\n    } else if (/(Android)/i.test(navigator.userAgent)) {\n      // @ts-ignore：\n      window.flutter_inappwebview.callHandler('getSafeAreaHeight').then(function (res) {\n        if (res != undefined) {\n          vm.$set(vm.mainheiget[0], 'hh', res.statusBarHeight + 'px');\n          localStorage.setItem('phonetopheight', res.statusBarHeight + 'px');\n        }\n      });\n    } // this.$set(this.mainheiget[0], 'hh', 48 + 'px')\n\n  },\n  methods: {\n    reload: function reload() {\n      this.isRouterAlive = false;\n      this.$nextTick(function () {\n        this.isRouterAlive = true;\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;AASA;EACAA,OADA,qBACA;IAAA;IACA;MACAC;IADA;EAGA,CALA;EAMAC,IANA,kBAMA;IACA;MACAC,mBADA;MAEAC;QACA;MADA;IAFA;EAMA,CAbA;EAcAC,OAdA,qBAcA;IACA;;IACA;MAAA;;MACAC;QACA;UACAC;UACAC;QACA;MACA,CALA,CADA,CAOA;;;MACAF,uCARA,CASA;;MACA;IACA,CAXA,MAWA;MACA;MACAA;QACA;UACAC;UACAC;QACA;MACA,CALA;IAMA,CArBA,CAsBA;;EAGA,CAvCA;EAwCAC;IACAR,MADA,oBACA;MACA;MACA;QACA;MACA,CAFA;IAGA;EANA;AAxCA","names":["provide","reload","data","isRouterAlive","mainheiget","created","window","vm","localStorage","methods"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\r\n\t<div id=\"app\">\r\n\t\t<meta name=\"viewport\"\r\n\t\t\tcontent=\"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no\">\r\n\t\t<div class=\"addtop\" :style=\"{height: mainheiget[0].hh}\"></div>\r\n\t\t<router-view v-if=\"isRouterAlive\" />\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tprovide() { //刷新\r\n\t\t return {\r\n\t\t\t\treload: this.reload\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisRouterAlive: true,\r\n\t\t\t\tmainheiget: [{\r\n\t\t\t\t\t'hh': '0px'\r\n\t\t\t\t}]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tlet vm = this\r\n\t\t\tif (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {\r\n\t\t\t\twindow.getSafeAreaHeight.onmessage = function(res) {\r\n\t\t\t\t\tif (res != undefined) {\r\n\t\t\t\t\t\tvm.$set(vm.mainheiget[0], 'hh', JSON.parse(res.data).statusBarHeight + 'px')\r\n\t\t\t\t\t\tlocalStorage.setItem('phonetopheight',JSON.parse(res.data).statusBarHeight + 'px')\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\twindow.getSafeAreaHeight.postMessage();\r\n\t\t\t\t// @ts-ignore\r\n\t\t\t\twindow.getSafeAreaHeight.onmessage?.();\r\n\t\t\t}else if(/(Android)/i.test(navigator.userAgent)) {\r\n\t\t\t\t// @ts-ignore：\r\n\t\t\t\twindow.flutter_inappwebview.callHandler('getSafeAreaHeight').then((res) => {\r\n\t\t\t\t\tif (res != undefined) {\r\n\t\t\t\t\t\tvm.$set(vm.mainheiget[0], 'hh', res.statusBarHeight + 'px')\r\n\t\t\t\t\t\tlocalStorage.setItem('phonetopheight',res.statusBarHeight + 'px')\r\n\t\t\t\t\t}\r\n\t\t\t });\r\n\t\t\t} \r\n\t\t\t// this.$set(this.mainheiget[0], 'hh', 48 + 'px')\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\treload() {\r\n\t\t\t\tthis.isRouterAlive = false;\r\n\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\tthis.isRouterAlive = true\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.addtop {\r\n\t\twidth: 100%;\r\n\t\tbackground-color: #3778DA;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\t\r\n\t}\r\n</style>\n"]},"metadata":{},"sourceType":"module"}