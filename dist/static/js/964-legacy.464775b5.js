(self["webpackChunkyingyan"]=self["webpackChunkyingyan"]||[]).push([[964],{4694:function(t,e,o){"use strict";o.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{style:{"padding-top":t.phoneheight}},[r("div",{on:{click:t.goback}},[r("img",{attrs:{src:o(4986),alt:""}}),t._t("default",(function(){return[r("span",[t._t("default",(function(){return[t._v("鹰眼")]}))],2)]}))],2)])},n=[],i={data:function(){return{phoneheight:localStorage.getItem("phonetopheight")}},methods:{goback:function(){this.$router.back()}}},s=i,a=o(1001),u=(0,a.Z)(s,r,n,!1,null,"3016c5d3",null),c=u.exports},2876:function(t,e,o){"use strict";o.d(e,{default:function(){return d}});var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"foot"})},n=[],i=o(9053),s=o.n(i),a=s(),u=o(1001),c=(0,u.Z)(a,r,n,!1,null,"14d96dc0",null),d=c.exports},6600:function(t,e,o){"use strict";o.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"popups"},[o("mt-popup",{attrs:{position:"popup-fade",closeOnClickModal:!1},model:{value:t.popupVisible,callback:function(e){t.popupVisible=e},expression:"popupVisible"}},[t._t("popupForm")],2)],1)},n=[],i={data:function(){return{popupVisible:!0}}},s=i,a=o(1001),u=(0,a.Z)(s,r,n,!1,null,null,null),c=u.exports},2964:function(t,e,o){"use strict";o.r(e),o.d(e,{default:function(){return f}});var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"root"},[r("Administrtab",[r("span",[t._v("设备管理")])]),r("div",{staticClass:"journal"},[r("ul",t._l(t.cameraList,(function(e,n){return r("li",{key:n,staticClass:"li_vessel",attrs:{"data-type":"0"}},[r("div",{staticStyle:{width:"100%"},on:{"!touchstart":function(e){return t.touchStart.apply(null,arguments)},"!touchend":function(e){return t.touchEnd.apply(null,arguments)},click:t.oneself}},[r("div",{staticClass:"contant"},[r("p",["屏幕"==e.DeviceTypeName?r("img",{attrs:{src:o(6313)}}):t._e(),"屏幕"!=e.DeviceTypeName?r("img",{attrs:{src:o(4076)}}):t._e()]),r("span",[t._v(t._s(e.DeviceName))])])]),r("div",{staticClass:"removeBtn",attrs:{"data-index":n},on:{click:function(o){return t.remove(e)}}},[t._v("删除")])])})),0),r("mt-button",{attrs:{size:"large",type:"primary"},on:{click:t.formRec}},[t._v("添加设备")])],1),t.popupVisible?r("Popupp",[r("div",{attrs:{slot:"popupForm"},slot:"popupForm"},[r("h3",[t._v("添加设备")]),r("form",{attrs:{action:"",onsubmit:"return false"}},[r("p",[r("span",[t._v("设备名称")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.rootForm.device_name,expression:"rootForm.device_name"}],attrs:{type:"text"},domProps:{value:t.rootForm.device_name},on:{input:function(e){e.target.composing||t.$set(t.rootForm,"device_name",e.target.value)}}})]),r("p",[r("span",[t._v("机器IP")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.rootForm.device_ip,expression:"rootForm.device_ip"}],attrs:{type:"num"},domProps:{value:t.rootForm.device_ip},on:{input:function(e){e.target.composing||t.$set(t.rootForm,"device_ip",e.target.value)}}})]),r("p",[r("span",[t._v(" 密码 ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.rootForm.device_password,expression:"rootForm.device_password"}],attrs:{type:"password",placeholder:"输入密码"},domProps:{value:t.rootForm.device_password},on:{input:function(e){e.target.composing||t.$set(t.rootForm,"device_password",e.target.value)}}})]),r("p",[r("span",[t._v(" 设备类型 ")]),r("select",{directives:[{name:"model",rawName:"v-model",value:t.rootForm.device_type,expression:"rootForm.device_type"}],attrs:{name:"type"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.rootForm,"device_type",e.target.multiple?o:o[0])}}},t._l(t.device_type_name,(function(e,o){return r("option",{key:o,domProps:{value:o+1}},[t._v(" "+t._s(e.device_type_name)+" ")])})),0)]),r("div",{staticClass:"formope"},[r("button",{staticClass:"onsub",on:{click:t.changVisible}},[t._v("取消")]),r("button",{staticClass:"sub",on:{click:t.infPost}},[t._v("保存")])])])])]):t._e(),r("Foot")],1)},n=[],i=(o(9653),o(4916),o(7601),o(6600)),s=o(4694),a=o(7317),u=o(7476),c=o(2876),d=o(4843),l={inject:["reload"],data:function(){return{startX:0,endX:0,popupVisible:!1,updata:!1,rootForm:{device_ip:"",device_account:"",device_password:"",org_id:Number(JSON.parse(localStorage.getItem("urlUserinfor")).orgId),push_url:"",device_type:1,state:1,device_name:"",scope:""},device_type_name:[],cameraList:[],rules:{device_name:{rule:/^.+$/,msg:"设备名称不能为空"},device_ip:{rule:/^((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])$/,msg:"ip地址输入错误"},device_password:{rule:/^.+$/,msg:"设备密码不能为空"},device_type:{rule:/^.+$/,msg:"设备类型不能为空"},device_id:{rule:/^.+$/,msg:"设备id不能为空"}}}},components:{Popupp:i.Z,Administrtab:s.Z,Foot:c["default"]},created:function(){var t=this;a.Z.$axios({url:"device/getDevices",method:"GET",params:{org_id:this.$store.state.userorgid}}).then((function(e){t.cameraList=e.data.data})),this.$nextTick((function(){a.Z.$axios({url:"https://1to2to3.cn/rds2/service/query",data:{auth:2,project:"eagle_eye",table:"sys_device_type",conditions:{fields:["device_type_name"],query:{}}}}).then((function(e){t.device_type_name=e.data.data}))}))},methods:{formRec:function(){this.popupVisible=!0},infPost:function(){var t=this;this.validate("device_name")&&this.validate("device_ip")&&this.validate("device_id")&&this.validate("device_password")&&this.validate("device_type")&&(this.rootForm.device_id=Number(this.rootForm.device_id),a.Z.$axios({url:"/device",data:this.rootForm}).then((function(e){(0,d.Toast)(e.data.result),t.popupVisible=!1,t.updata=!0,(0,u.Zp)({appName:"eagle",methodName:"添加设备",methodRemark:"添加了"+t.rootForm.device_name+"设备",optReqParam:"",optResInfo:e.data.result,reqUrl:"",orgId:Number(JSON.parse(localStorage.getItem("urlUserinfor")).orgId)}),t.reload()})).catch((function(){(0,d.Toast)("添加失败，请重试")})))},validate:function(t){var e=!0;return this.rules[t].rule.test(this.rootForm[t])?e:((0,d.Toast)(this.rules[t].msg),e=!1,!1)},changVisible:function(){this.popupVisible=!1},oneself:function(){this.checkSlide()&&this.restSlide()},touchStart:function(t){this.startX=t.touches[0].clientX},touchEnd:function(t){var e=t.currentTarget.parentElement;this.endX=t.changedTouches[0].clientX,0==e.dataset.type&&this.startX-this.endX>30&&(this.restSlide(),e.dataset.type=1),1==e.dataset.type&&this.startX-this.endX<-30&&(this.restSlide(),e.dataset.type=0),this.startX=0,this.endX=0},checkSlide:function(){for(var t=document.querySelectorAll(".li_vessel"),e=0;e<t.length;e++)if(1==t[e].dataset.type)return!0;return!1},restSlide:function(){for(var t=document.querySelectorAll(".li_vessel"),e=0;e<t.length;e++)t[e].dataset.type=0},remove:function(t){var e=this;d.MessageBox.confirm("确定删除"+t.DeviceName+"设备?").then((function(o){(0,u.ld)(t).then((function(o){console.log(o),(0,u.Zp)({appName:"eagle",methodName:"删除设备",methodRemark:"删除了"+t.DeviceName+"设备",optReqParam:"",optResInfo:o.data.result,reqUrl:"",orgId:Number(JSON.parse(localStorage.getItem("urlUserinfor")).orgId)}),(0,d.Toast)("设备删除成功"),e.reload()})).catch((function(){(0,d.Toast)("设备删除失败，请稍后重试")}))}))}}},p=l,A=o(1001),m=(0,A.Z)(p,r,n,!1,null,"e7e2c504",null),f=m.exports},9053:function(){},7476:function(t,e,o){"use strict";o.d(e,{Bq:function(){return c},$P:function(){return u},N0:function(){return d},OX:function(){return A},ld:function(){return m},UB:function(){return v},yR:function(){return p},Zp:function(){return f},Fj:function(){return l},jh:function(){return a}});var r=o(9669),n=o.n(r),i=n().create({baseURL:"https://1to2to3.cn/eagle_eye/",withCredentials:!1,timeout:8e3}),s=i;function a(t){return s({url:"/user/"+t.orgId+"/"+t.username})}function u(t){return s({url:"/user",method:"post",data:t})}function c(t){return s({url:"/user",method:"put",data:t})}function d(t){return s({url:"/user/getOrgActivationList/"+t.orgId+"/2",method:"get",data:t})}function l(t){return s({url:"/user/getOrgActivationList/"+t.orgId+"/1",method:"get",data:t})}function p(t){return n()({url:"https://1to2to3.cn/rds2/service/query",method:"post",data:{auth:2,project:"eagle_eye",table:"sys_role",conditions:{fields:[],query:{}}}})}function A(t){return n()({url:"https://1to2to3.cn/super-login/sys/me",method:"post",headers:{Authorization:"bearer "+t}})}function m(t){return s({url:"/device/"+t.DeviceId,method:"DELETE",data:t})}function f(t){return n()({url:"https://1to2to3.cn/authentication/log",method:"post",headers:{Authorization:"bearer "+JSON.parse(localStorage.getItem("urlUserinfor")).token},data:t})}function v(t){return n()({url:"https://1to2to3.cn/authentication/log/list",method:"post",headers:{Authorization:"bearer "+JSON.parse(localStorage.getItem("urlUserinfor")).token},data:t})}},7317:function(t,e,o){"use strict";o(1539);var r=o(9669),n=o.n(r);n().defaults.baseURL="https://1to2to3.cn/eagle_eye/",e["Z"]={common:{method:"POST",data:{},params:{}},$axios:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.method=t.method||this.common.method,t.data=t.data||this.common.data,t.params=t.params||this.common.params,n()(t).then((function(t){return new Promise((function(e,o){if(!t)return o();e(t)}))}))}}},4076:function(t){"use strict";t.exports="data:image/png;base64,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"},4986:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAOCAYAAAASVl2WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAClSURBVHgBnZDbDQIhEEV5WIAt+Ad8WYIlAA2sHWgHYgl2sFuBdKBdwJ8t2AHe2bgG0U2MkwCXnJPJZBj7p7z3wTl3oyxaCNCXUg44Pf15C/F0gCHGeHwJ1tol5/yMuKnhKDzhBXkNuAc81V0XFdwCDu1MNOR9DEKs2JeSOedBa01wZ4zhKaXrm0AXpDgnySnMSbJuR5JSimKYpI9N0g5oFzgd+6UeJcFViSztkwMAAAAASUVORK5CYII="},6313:function(t){"use strict";t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKvSURBVHgB7d3hbdNAGIfx14gBwgbuBmUCkgnKBoQJ6AZtN4AJYIRu0DABGcFsUCYI78lGQkjcneOmufff5yed/KEuQnnis32uEjMAAAAA83Rzdj4cDmvfXPlI297HyvAcHn3sp/Gl67qh9herAnvY3jdfbQyL8/vs485DP5Z2LAae4j7YeMSiHelo3pQiv7Iy4rbp0sdNaafsETydcx8MLXuTO4pLR/CVoXUfcj8sBb40tC7bqOYcjMAILI7A4ggsjsDiCCzutR0vrYfeG07t2sd7O9KSwHtfQfluOClfTdzaAkzR4ggsjsDiCCyOwOIILI7A4ggsjsDiCCyOwOIILI7A4ggsjsDiCCyOwOIILI7A4ggsjsDiCCyOwOIILI7A4ggsjsDiCCyOwOIILI7A4ggsjsDiCCyOwOIILI7A4ggsjsDiCCxuyQehbaeP/MdprW2BJYHXhuYxRYsjsDgCi1tyDo4ifRxv8Svg3NYEryteQuD7rut+lnZSvSNgihZHYHEEFkdgcQQWR2BxpcA1949oWOk+eLD4rv0et+aNGvWrdPe5H/IN4PG99YWc/0bOTtH+izvf7Ayt2uXiJtkjOPGjOE1d6SheGVqSTjvp6B1yOxWvoqd3yMY0zscqUtxNKW5SdZv0V+RvhnMafNz6uChNzX8Up+h/+ZSdpup3Nl519ta+7Yx919amXz4Gjzr7tnV24Gj8DXmo3ddfQLnXg5UscQQWR2BxBBZHYHEEFhfyryqnhyA39sT34f7v1jxYGXzc1awitSDcfZ9H6H3zw867Nj7YuA7c/PPyiFP0Jzv/g4/exv9H8yIGbuXBfIg/EIgYuGqR/RkMFgDn4ONdRLjQCncVnV5Uj/zRxqvoYyKvbNmbI11Y3Ua5igYAAAAAAAAAAAAAAAAAAACA6H4DEKp1yAF63jEAAAAASUVORK5CYII="}}]);